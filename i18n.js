window.translations = {
  en: {
    nav_story: "Story",
    nav_clues: "Clues",
    nav_last_seen: "Last Seen",
    nav_help: "Help",
    hero_badge: "ğŸš¨ MISSING",
    hero_title_sub: "The Missing Black Cat",
    hero_subtitle: "Our beloved black cat went missing on <strong>23 January 2026</strong> in <strong>Taman Antarabangsa, Likas</strong>. We need your help to find him.",
    cta_found: '<span class="icon" style="margin-right: 8px; font-size: 1.2em">ğŸ’¬</span> I Found Him',
    cta_details: "View Details",
    cta_poster: "Download Poster",
    status_header: '<span class="blinking-dot">â—</span> LIVE UPDATE',
    status_title: "Checking CCTV Surveillance",
    status_desc: "We are currently reviewing security footage from the neighborhood to trace Batman's movements.",
    status_loc_label: "Location: Taman Antarabangsa",
    status_val: "Status: In Progress...",
    game_title: "Help Batman Find Home",
    game_instr: "Use <strong>Arrow Keys</strong> or <strong>Tap</strong> to dodge obstacles and guide Batman home!",
    game_start: "Start Game",
    game_over: "Game Over!",
    game_try_again: "Try Again",
    game_win: "You Found Home! ğŸ ",
    game_win_msg: "Thank you for bringing Batman back!",
    game_play_again: "Play Again",
    story_title: "Who is Batman?",
    story_p1: "Batman is a domestic black cat with bright yellow eyes. He is distinctive for his <strong>very long tail</strong> (almost the length of his body) and has <strong>no white spots</strong> at all.",
    story_p2: "He was <strong>wearing a collar</strong> when he went missing. He is deeply loved by our family and has gone missing from our home.",
    story_box_title: "ğŸ  Personality & Safety",
    story_box_p1: "Batman is a very friendly cat, but please note: <strong>his friendliness does not mean he wants to go home with you.</strong>",
    story_box_p2: "He was <strong>born at this home</strong> and has lived here his entire life. He belongs with his family who misses him dearly.",
    story_box_p3: "ğŸ™ Please let him back home safely.",
    story_note: "Note: While the \"Flow\" movie has made black cats popular recently, Batman is <strong>NOT</strong> the cat from the movie. He is a real, cherished pet who needs to come home.",
    photos_title: "Real Photos",
    clues_title: "Details",
    clue_color: "Color",
    clue_color_desc: "All Black<br><span style=\"font-size:0.6em; opacity:0.7\">(No White Spots)</span>",
    clue_collar: "Collar",
    clue_collar_desc: "Black with<br><span style=\"font-size:0.6em; opacity:0.7\">Yellow Stripes</span>",
    clue_tail: "Tail",
    clue_tail_desc: "Very Long",
    clue_reward: "Reward",
    clue_reward_desc: "Cash Reward",
    clue_policy: "Policy",
    clue_policy_desc: "No Questions Asked",
    last_seen_title: "Last Seen",
    last_seen_desc: "Batman was last seen on <strong>23 January 2026</strong> around our house in:",
    last_seen_loc: "Taman Antarabangsa, Likas",
    last_seen_help: "If you have seen him or accidentally brought him home, please help us reunite with him.",
    help_title: "Help Bring Batman Home",
    help_desc: "If you spot a sleek black cat with bright yellow eyes in the Likas area, please contact us immediately.",
    alert_title: "Urgent: Illegal Sale Warning",
    alert_desc: "If you see someone trying to sell a cat that matches Batman's description, <strong>please help us and tell us immediately.</strong> We need your help to bring him home.",
    compassion_title: "ğŸ’Œ A Message to the Person Who Has Him",
    compassion_p1: "If you have accidentally taken Batman, <strong>please bring him back to us.</strong> We promise that <strong>we will not ask any questions</strong> if you return him safely.",
    compassion_p2: "However, if you choose not to return him, we beg you to <span class=\"highlight-text\">please take good care of him.</span> He was born at our home and is very dear to us.",
    compassion_p3: "Please have mercy towards the owners who raised him and love him. His safety and health are all that matter to us.",
    whatsapp_cta: '<span class="icon" style="margin-right: 8px">ğŸ“±</span> WhatsApp Us Now',
    contact_title: "Contact Us",
    contact_desc: "We are available 24/7. Please don't hesitate to reach out if you have any information.",
    contact_chat: "Chat on WhatsApp",
    contact_call: "or call us directly at <a href=\"tel:+60143192305\" style=\"color: var(--accent); text-decoration: none;\">+60 14-319 2305</a>",
    game_distance: "Distance: "
  },
  ms: {
    nav_story: "Cerita",
    nav_clues: "Petunjuk",
    nav_last_seen: "Lokasi Terakhir",
    nav_help: "Bantuan",
    hero_badge: "ğŸš¨ HILANG",
    hero_title_sub: "Kucing Hitam Yang Hilang",
    hero_subtitle: "Kucing hitam kesayangan kami hilang pada <strong>23 Januari 2026</strong> di <strong>Taman Antarabangsa, Likas</strong>. Kami perlukan bantuan anda untuk mencarinya.",
    cta_found: '<span class="icon" style="margin-right: 8px; font-size: 1.2em">ğŸ’¬</span> Saya Jumpa Dia',
    cta_details: "Lihat Maklumat",
    cta_poster: "Muat Turun Poster",
    status_header: '<span class="blinking-dot">â—</span> KEMASKINI LANGSUNG',
    status_title: "Memeriksa CCTV",
    status_desc: "Kami sedang menyemak rakaman keselamatan dari kawasan kejiranan untuk mengesan pergerakan Batman.",
    status_loc_label: "Lokasi: Taman Antarabangsa",
    status_val: "Status: Sedang Dijalankan...",
    game_title: "Bantu Batman Cari Jalan Pulang",
    game_instr: "Gunakan <strong>Kunci Anak Panah</strong> atau <strong>Sentuh</strong> untuk mengelak halangan dan bantu Batman pulang!",
    game_start: "Mula Permainan",
    game_over: "Tamat Permainan!",
    game_try_again: "Cuba Lagi",
    game_win: "Anda Temui Jalan Pulang! ğŸ ",
    game_win_msg: "Terima kasih kerana membawa Batman pulang!",
    game_play_again: "Main Semula",
    story_title: "Siapa Batman?",
    story_p1: "Batman adalah kucing hitam domestik dengan mata kuning terang. Dia dikenali dengan <strong>ekor yang sangat panjang</strong> (hampir sepanjang badannya) dan <strong>tiada tompok putih</strong> langsung.",
    story_p2: "Dia <strong>memakai kolar</strong> apabila dia hilang. Dia sangat disayangi oleh keluarga kami dan telah hilang dari rumah kami.",
    story_box_title: "ğŸ  Personaliti & Keselamatan",
    story_box_p1: "Batman adalah kucing yang sangat mesra, tetapi harap maklum: <strong>kemesraannya tidak bermakna dia mahu pulang bersama anda.</strong>",
    story_box_p2: "Dia <strong>lahir di rumah ini</strong> dan tinggal di sini sepanjang hayatnya. Dia milik keluarganya yang sangat merinduinya.",
    story_box_p3: "ğŸ™ Tolong biarkan dia pulang dengan selamat.",
    story_note: "Nota: Walaupun filem \"Flow\" menjadikan kucing hitam popular baru-baru ini, Batman <strong>BUKAN</strong> kucing dari filem itu. Dia adalah haiwan peliharaan sebenar yang disayangi.",
    photos_title: "Foto Sebenar",
    clues_title: "Perincian",
    clue_color: "Warna",
    clue_color_desc: "Hitam Sepenuhnya<br><span style=\"font-size:0.6em; opacity:0.7\">(Tiada Tompok Putih)</span>",
    clue_collar: "Kolar",
    clue_collar_desc: "Hitam dengan<br><span style=\"font-size:0.6em; opacity:0.7\">Belang Kuning</span>",
    clue_tail: "Ekor",
    clue_tail_desc: "Sangat Panjang",
    clue_reward: "Ganjaran",
    clue_reward_desc: "Ganjaran Tunai",
    clue_policy: "Polisi",
    clue_policy_desc: "Tiada Soalan Ditanya",
    last_seen_title: "Lokasi Terakhir",
    last_seen_desc: "Batman kali terakhir dilihat pada <strong>23 Januari 2026</strong> di sekitar rumah kami di:",
    last_seen_loc: "Taman Antarabangsa, Likas",
    last_seen_help: "Jika anda terjumpa dia atau terambil dia balik, tolong bantu kami satukan semula dengannya.",
    help_title: "Bantu Bawa Batman Pulang",
    help_desc: "Jika anda melihat kucing hitam dengan mata kuning terang di kawasan Likas, sila hubungi kami dengan segera.",
    alert_title: "Penting: Amaran Jualan Haram",
    alert_desc: "Jika anda melihat sesiapa cuba menjual kucing yang sepadan dengan deskripsi Batman, <strong>tolong bantu kami dan beritahu kami segera.</strong> Kami perlukan bantuan anda.",
    compassion_title: "ğŸ’Œ Pesan Kepada Penemu",
    compassion_p1: "Jika anda terambil Batman secara tidak sengaja, <strong>tolong pulangkan dia kepada kami.</strong> Kami janji <strong>kami tidak akan bertanya apa-apa</strong> jika anda pulangkan dia dengan selamat.",
    compassion_p2: "Namun, jika anda memilih untuk tidak memulangkannya, kami merayu <strong>tolong jaga dia dengan baik.</strong> Dia lahir di rumah kami dan sangat bermakna bagi kami.",
    compassion_p3: "Tolonglah berbelas kasihan kepada pemilik yang membesarkannya dan menyayanginya. Keselamatan dan kesihatannya adalah yang paling utama bagi kami.",
    whatsapp_cta: '<span class="icon" style="margin-right: 8px">ğŸ“±</span> WhatsApp Kami Sekarang',
    contact_title: "Hubungi Kami",
    contact_desc: "Kami sedia dihubungi 24/7. Jangan ragu untuk hubungi jika anda ada sebarang maklumat.",
    contact_chat: "Chat di WhatsApp",
    contact_call: "atau hubungi kami terus di <a href=\"tel:+60143192305\" style=\"color: var(--accent); text-decoration: none;\">+60 14-319 2305</a>",
    game_distance: "Jarak: "
  },
  zh: {
    nav_story: "æ•…äº‹",
    nav_clues: "ç‰¹å¾",
    nav_last_seen: "æœ€åç›®å‡»",
    nav_help: "å¸®å¿™",
    hero_badge: "ğŸš¨ å¯»çŒ«å¯äº‹",
    hero_title_sub: "å¤±è¸ªçš„é»‘çŒ«",
    hero_subtitle: "æˆ‘ä»¬å¿ƒçˆ±çš„é»‘çŒ«äº <strong>2026å¹´1æœˆ23æ—¥</strong> åœ¨ <strong>Taman Antarabangsa, Likas</strong> èµ°å¤±ã€‚æˆ‘ä»¬éœ€è¦æ‚¨çš„å¸®åŠ©å¯»æ‰¾ä»–ã€‚",
    cta_found: '<span class="icon" style="margin-right: 8px; font-size: 1.2em">ğŸ’¬</span> æˆ‘æ‰¾åˆ°äº†',
    cta_details: "æŸ¥çœ‹è¯¦æƒ…",
    cta_poster: "ä¸‹è½½æµ·æŠ¥",
    status_header: '<span class="blinking-dot">â—</span> å®æ—¶æ›´æ–°',
    status_title: "æ­£åœ¨æ£€æŸ¥é—­è·¯ç”µè§†",
    status_desc: "æˆ‘ä»¬ç›®å‰æ­£åœ¨æŸ¥çœ‹é™„è¿‘çš„ç›‘æ§å½•åƒï¼Œä»¥è¿½è¸ª Batman çš„è¡Œè¸ªã€‚",
    status_loc_label: "åœ°ç‚¹: Taman Antarabangsa",
    status_val: "çŠ¶æ€: è¿›è¡Œä¸­...",
    game_title: "å¸®åŠ© Batman å›å®¶",
    game_instr: "ä½¿ç”¨ <strong>æ–¹å‘é”®</strong> æˆ– <strong>ç‚¹å‡»</strong> é¿å¼€éšœç¢ç‰©ï¼ŒæŒ‡å¼• Batman å›å®¶ï¼",
    game_start: "å¼€å§‹æ¸¸æˆ",
    game_over: "æ¸¸æˆç»“æŸï¼",
    game_try_again: "å†è¯•ä¸€æ¬¡",
    game_win: "ä½ æ‰¾åˆ°äº†å®¶ï¼ ğŸ ",
    game_win_msg: "è°¢è°¢ä½ å¸¦ Batman å›å®¶ï¼",
    game_play_again: "å†ç©ä¸€æ¬¡",
    story_title: "è°æ˜¯ Batmanï¼Ÿ",
    story_p1: "Batman æ˜¯ä¸€åªå®¶å…»çš„é»‘çŒ«ï¼Œæœ‰ç€æ˜äº®çš„é»„è‰²çœ¼ç›ã€‚ä»–çš„ç‰¹å¾æ˜¯<strong>å°¾å·´å¾ˆé•¿</strong>ï¼ˆå‡ ä¹å’Œèº«ä½“ä¸€æ ·é•¿ï¼‰ï¼Œè€Œä¸”<strong>å®Œå…¨æ²¡æœ‰ç™½æ–‘</strong>ã€‚",
    story_p2: "ä»–èµ°å¤±æ—¶<strong>æˆ´ç€é¡¹åœˆ</strong>ã€‚ä»–æ˜¯æˆ‘ä»¬æ·±çˆ±çš„å®¶äººï¼Œä»å®¶ä¸­èµ°å¤±äº†ã€‚",
    story_box_title: "ğŸ  æ€§æ ¼ä¸å®‰å…¨",
    story_box_p1: "Batman æ˜¯ä¸€åªéå¸¸å‹å–„çš„çŒ«ï¼Œä½†è¯·æ³¨æ„ï¼š<strong>ä»–çš„å‹å–„å¹¶ä¸ä»£è¡¨ä»–æƒ³è·Ÿä½ å›å®¶ã€‚</strong>",
    story_box_p2: "ä»–<strong>åœ¨è¿™ä¸ªå®¶å‡ºç”Ÿ</strong>ï¼Œä¸€ç”Ÿéƒ½ä½åœ¨è¿™é‡Œã€‚ä»–å±äºéå¸¸æƒ³å¿µä»–çš„å®¶äººã€‚",
    story_box_p3: "ğŸ™ è¯·è®©ä»–å®‰å…¨å›å®¶ã€‚",
    story_note: "æ³¨ï¼šè™½ç„¶ç”µå½±ã€ŠFlowã€‹æœ€è¿‘è®©é»‘çŒ«å¾ˆå—æ¬¢è¿ï¼Œä½† Batman <strong>ä¸æ˜¯</strong> ç”µå½±é‡Œçš„é‚£åªçŒ«ã€‚ä»–æ˜¯æˆ‘ä»¬çè§†çš„å® ç‰©ï¼Œéœ€è¦å›å®¶ã€‚",
    photos_title: "çœŸå®ç…§ç‰‡",
    clues_title: "è¯¦ç»†ç‰¹å¾",
    clue_color: "é¢œè‰²",
    clue_color_desc: "å…¨é»‘<br><span style=\"font-size:0.6em; opacity:0.7\">ï¼ˆæ— ç™½æ–‘ï¼‰</span>",
    clue_collar: "é¡¹åœˆ",
    clue_collar_desc: "é»‘è‰²<br><span style=\"font-size:0.6em; opacity:0.7\">å¸¦é»„æ¡çº¹</span>",
    clue_tail: "å°¾å·´",
    clue_tail_desc: "éå¸¸é•¿",
    clue_reward: "é…¬è°¢",
    clue_reward_desc: "ç°é‡‘é…¬åŠ³",
    clue_policy: "æ”¿ç­–",
    clue_policy_desc: "ä¸è¿‡é—®è¯¦æƒ…",
    last_seen_title: "æœ€åç›®å‡»",
    last_seen_desc: "Batman æœ€åäº <strong>2026å¹´1æœˆ23æ—¥</strong> åœ¨æˆ‘ä»¬å®¶é™„è¿‘è¢«çœ‹åˆ°ï¼Œåœ°ç‚¹åœ¨ï¼š",
    last_seen_loc: "Taman Antarabangsa, Likas",
    last_seen_help: "å¦‚æœæ‚¨è§è¿‡ä»–æˆ–ä¸å°å¿ƒå¸¦äº†ä»–å›å®¶ï¼Œè¯·å¸®æˆ‘ä»¬è¦å›ä»–ã€‚",
    help_title: "å¸®åŠ© Batman å›å®¶",
    help_desc: "å¦‚æœæ‚¨åœ¨ Likas åœ°åŒºçœ‹åˆ°ä¸€åªçœ¼ç›æ˜äº®é»„è‰²çš„é»‘çŒ«ï¼Œè¯·ç«‹å³è”ç³»æˆ‘ä»¬ã€‚",
    alert_title: "ç´§æ€¥ï¼šéæ³•ä¹°å–è­¦å‘Š",
    alert_desc: "å¦‚æœæ‚¨çœ‹åˆ°æœ‰äººè¯•å›¾å‡ºå”®ç¬¦åˆ Batman ç‰¹å¾çš„çŒ«ï¼Œ<strong>è¯·ç«‹å³å‘Šè¯‰æˆ‘ä»¬ã€‚</strong> æˆ‘ä»¬éœ€è¦æ‚¨çš„å¸®åŠ©å¸¦ä»–å›å®¶ã€‚",
    compassion_title: "ğŸ’Œ ç»™æ”¶ç•™è€…çš„ä¸€å°ä¿¡",
    compassion_p1: "å¦‚æœæ‚¨ä¸å°å¿ƒå¸¦èµ°äº† Batmanï¼Œ<strong>è¯·æŠŠä»–è¿˜ç»™æˆ‘ä»¬ã€‚</strong> æˆ‘ä»¬æ‰¿è¯ºï¼Œå¦‚æœæ‚¨å®‰å…¨å½’è¿˜ä»–ï¼Œ<strong>æˆ‘ä»¬ç»ä¸è¿‡é—®ã€‚</strong>",
    compassion_p2: "ä½†æ˜¯ï¼Œå¦‚æœæ‚¨é€‰æ‹©ä¸å½’è¿˜ï¼Œæˆ‘ä»¬æ±‚æ‚¨<strong>è¯·å¥½å¥½ç…§é¡¾ä»–ã€‚</strong> ä»–ç”Ÿäºæˆ‘ä»¬å®¶ï¼Œå¯¹æˆ‘ä»¬æ¥è¯´éå¸¸é‡è¦ã€‚",
    compassion_p3: "è¯·æ€œæ‚¯æŠšå…»å¹¶æ·±çˆ±ä»–çš„ä¸»äººã€‚ä»–çš„å®‰å…¨å’Œå¥åº·æ˜¯æˆ‘ä»¬å”¯ä¸€å…³å¿ƒçš„ã€‚",
    whatsapp_cta: '<span class="icon" style="margin-right: 8px">ğŸ“±</span> ç«‹å³ WhatsApp æˆ‘ä»¬',
    contact_title: "è”ç³»æˆ‘ä»¬",
    contact_desc: "æˆ‘ä»¬ 24/7 å…¨å¤©å€™å¾…å‘½ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•æ¶ˆæ¯ï¼Œè¯·éšæ—¶è”ç³»ã€‚",
    contact_chat: "WhatsApp èŠå¤©",
    contact_call: "æˆ–ç›´æ¥è‡´ç”µ <a href=\"tel:+60143192305\" style=\"color: var(--accent); text-decoration: none;\">+60 14-319 2305</a>",
    game_distance: "è·ç¦»: "
  }
};

function changeLanguage(lang) {
  // Update HTML elements
  document.querySelectorAll('[data-i18n]').forEach(element => {
    const key = element.getAttribute('data-i18n');
    if (window.translations[lang] && window.translations[lang][key]) {
      // Check if it's an input/placeholder or regular text
      if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
        element.placeholder = window.translations[lang][key];
      } else {
        element.innerHTML = window.translations[lang][key];
      }
    }
  });

  // Update active state of buttons
  document.querySelectorAll('.lang-btn').forEach(btn => {
    btn.classList.remove('active');
    if (btn.getAttribute('data-lang') === lang) {
      btn.classList.add('active');
    }
  });

  // Save preference
  localStorage.setItem('preferredLanguage', lang);
  
  // Update document language
  document.documentElement.lang = lang;
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
  const savedLang = localStorage.getItem('preferredLanguage') || 'en';
  changeLanguage(savedLang);

  // Attach event listeners to buttons
  document.querySelectorAll('.lang-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      changeLanguage(btn.getAttribute('data-lang'));
    });
  });
});
